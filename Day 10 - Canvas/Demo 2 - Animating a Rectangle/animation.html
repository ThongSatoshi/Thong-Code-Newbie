<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khởi tạo hoạt hình</title>
    <style>
        h1 {
            font-size: 40px;
            font-style: italic;
        }

        .button {
            font-size: 18px;
            font-weight: bold;
            height: 30px;
            width: 150px;
        }
    </style>
</head>

<body>
    <h1>Khởi tạo hoạt hình (Mẫu game demo "Qua sông")</h1>
    <button class="button" type="button" onclick="runGame()">Start game</button>
    <button class="button" type="button" onclick="location.reload()">Reset game</button>
    <br>
    <br>
    <canvas id="canvas" width="1000px" height="500px" style="border:1px solid rgb(0, 0, 0)"></canvas>
    <script type="text/javascript">
        // Khai báo các biến
        let smallBoatX = 200, smallBoatY = 0, bigBoatX = 350, bigBoatY = 300,
            smallBoatWidth = smallBoatHeight = 100, bigBoatWidth = 100, bigBoatHeight = 200;
        let context = document.getElementById("canvas").getContext("2d");
        drawBackground(), drawSmallBoat(), drawBigBoat(), drawPlayer();

        // Tạo lớp và các đối tượng Tàu, người chơi
        class Boat {
            constructor(boatX, boatY, boatWidth, boatHeight, boatSpeed) {
                this.boatX = boatX;
                this.boatY = boatY;
                this.boatWidth = boatWidth;
                this.boatHeight = boatHeight;
                this.boatSpeed = boatSpeed;
            };
        };

        class Player {
            constructor(playerX, playerY, playerSize, playerSpeed) {
                this.playerX = playerX;
                this.playerY = playerY;
                this.playerSize = playerSize;
                this.playerSpeed = playerSpeed;
            };
        };

        // Reset lại canvas
        function resetCanvas() {
            context.clearRect(0, 0, canvas.width, canvas.height);
        };

        // Khởi tạo hoạt hình cho canvas
        function runGame() {
            
        };

        function drawBackground() {
            // Vẽ background
            context.fillStyle = "rgb(0, 255, 255)";
            context.fillRect(0, 0, canvas.width, canvas.height);

            // Vẽ địa hình
            context.beginPath();
            context.fillStyle = "rgb(69, 229, 33)";
            context.fillRect(0, 0, 100, 100);

            context.beginPath();
            context.fillStyle = "rgb(100, 70, 36)";
            context.fillRect(0, 100, 100, 300);

            context.beginPath();
            context.fillStyle = "rgb(69, 229, 33)";
            context.fillRect(0, 400, 100, 100);

            context.beginPath();
            context.fillStyle = "rgb(69, 229, 33)";
            context.fillRect(900, 0, 100, 100);

            context.beginPath();
            context.fillStyle = "rgb(100, 70, 36)";
            context.fillRect(900, 100, 100, 300);

            context.beginPath();
            context.fillStyle = "rgb(69, 229, 33)";
            context.fillRect(900, 400, 100, 100);
        };

        function drawSmallBoat() {
            let smallBoatA = new Boat(smallBoatX, smallBoatY, smallBoatWidth, smallBoatHeight, 5),
                smallBoatB = new Boat(smallBoatX + 300, smallBoatY, smallBoatWidth, smallBoatHeight, 5);

            // Vẽ chướng ngại vật (Thuyền nhỏ)
            context.beginPath();
            context.fillStyle = "rgb(190,190,190)";
            context.fillRect(smallBoatA.boatX, smallBoatA.boatY, smallBoatA.boatWidth, smallBoatA.boatHeight);
            context.strokeRect(smallBoatA.boatX, smallBoatA.boatY, smallBoatA.boatWidth, smallBoatA.boatHeight);
        };

        function drawBigBoat() {
            let bigBoatA = new Boat(bigBoatX, bigBoatY, bigBoatWidth, bigBoatHeight, 3),
                bigBoatB = new Boat(bigBoatX + 300, bigBoatY, bigBoatWidth, bigBoatHeight, 3);

            // Vẽ chướng ngại vật (Thuyền bự)
            context.beginPath();
            context.fillStyle = "rgb(192,192,192)";
            context.fillRect(bigBoatA.bigBoatX, bigBoatA.bigBoatY, bigBoatA.bigBoatWidth, bigBoatA.bigBoatHeight);
            context.strokeRect(bigBoatA.bigBoatX, bigBoatA.bigBoatY, bigBoatA.bigBoatWidth, bigBoatA.bigBoatHeight);
        };

        function drawPlayer() {
            let player = new Player(50, 250, 30, 2);

            //Vẽ người chơi
            context.beginPath();
            context.arc(player.playerX, player.playerY, player.playerSize, 0, 2 * Math.PI);
            context.fillStyle = "rgb(250, 230, 191)";
            context.stroke();
            context.fill();
        };
    </script>
</body>

</html>